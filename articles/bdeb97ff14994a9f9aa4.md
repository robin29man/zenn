---
title: "ãƒ©ã‚ºãƒ‘ã‚¤ã§Pythonã‚³ãƒ¼ãƒ‰ç”¨ã„ã¦FXæƒ…å ±å–å¾—"
emoji: "ğŸ•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Python","ãƒ©ã‚ºãƒ‘ã‚¤","Linux"]
published: true
---

1. ã‚„ã‚ŠãŸã„ã“ã¨
    [Oanda Japanã‚’ã„ã˜ã£ã¦ã¿ãŸ](https://zenn.dev/robin29man/articles/28af9e128131af59e3a1)ã§APIã‚’å©ã„ã¦æƒ…å ±å–ã£ã¦ãã‚‹Pythonã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã€‚
    (å°†æ¥çš„ã«ã¯æƒ…å ±å–ã£ã¦ãã‚‹ã ã‘ã˜ã‚ƒãªãã¦å£²è²·ã—ãŸã„ã®ã§ãã‚Œã¯ä¸¦è¡Œã—ã¦ã‚„ã‚‹ã¨ã—ã¦ã€) ä»–ã«å°†æ¥ã‚„ã‚ŠãŸã„ã“ã¨ã¨ã—ã¦ã¯Pythonã‚³ãƒ¼ãƒ‰ã‚’Linuxã‚µãƒ¼ãƒã§å‹•ã‹ã™ã“ã¨ã€‚
    ã¨ã„ã†ã“ã¨ã§ã€ä¸Šè¨˜è¨˜äº‹ã®Pythonã‚³ãƒ¼ãƒ‰ã‚’ã¾ãšã¯ç·´ç¿’ã§ãƒ©ã‚ºãƒ‘ã‚¤ã«ç§»å‹•ã—ã¦èµ°ã‚‰ã›ã‚‹ã€‚

1. ã‚„ã£ãŸã“ã¨
    1. scpã§é€ä¿¡
        æ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒãªã„ã¨æ€’ã‚‰ã‚Œã‚‹ã€‚
    1. oanda.pyã‚³ãƒ¼ãƒ‰ã®å…ˆé ­ã«æ–‡å­—ã‚³ãƒ¼ãƒ‰ã®æŒ‡å®šã‚’è¿½åŠ 
        ```python:oanda.py
        # coding=utf-8

        # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ãƒãƒ¼ãƒˆ
        from oandapyV20 import API
        import oandapyV20.endpoints.accounts as accounts

        #è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚»ãƒƒãƒˆ
        accountID = "101-009-xxxxxxxx-xxx" # MT4 demo
        access_token = 'xxxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxx'
        api = API(access_token=access_token, environment="practice")

        # é€šè²¨ãƒšã‚¢ã‚’æŒ‡å®šã—ã¦æƒ…å ±å–å¾—
        params = { "instruments": "EUR_USD,EUR_JPY,USD_JPY" }
        r = accounts.AccountInstruments(accountID=accountID, params=params)
        api.request(r)
        data = r.response
        print(data)
        ```
    1. è¿”ã‚Šå€¤ã‚²ãƒƒãƒˆ
        ```
        {'instruments': [{'name': 'EUR_USD', 'type': 'CURRENCY', 'displayName': 'EUR/USD', 'pipLocation': -4, 'displayPrecision': 5, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '1.00000', 'minimumTrailingStopDistance': '0.00050', 
        'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0366', 'shortRate': '-0.0058', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, {'dayOfWeek': 'TUESDAY', 'daysCharged': 1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}, {'name': 'EUR_JPY', 'type': 'CURRENCY', 'displayName': 'EUR/JPY', 'pipLocation': -2, 'displayPrecision': 3, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '100.000', 
        'minimumTrailingStopDistance': '0.050', 'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0278', 'shortRate': '-0.0116', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, {'dayOfWeek': 'TUESDAY', 'daysCharged': 
        1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}, {'name': 'USD_JPY', 'type': 'CURRENCY', 'displayName': 'USD/JPY', 'pipLocation': -2, 'displayPrecision': 3, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '100.000', 'minimumTrailingStopDistance': '0.050', 'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0087', 'shortRate': '-0.0233', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, 
        {'dayOfWeek': 'TUESDAY', 'daysCharged': 1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}], 'lastTransactionID': '53'}
        ```
