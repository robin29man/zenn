---
title: "Oanda Japanã‚’ã„ã˜ã£ã¦ã¿ãŸ"
emoji: "ğŸ‰"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["fx","API","è‡ªå‹•å£²è²·"]
published: true
---
- ãƒ‡ãƒ¢å£åº§é–‹è¨­
HPã‹ã‚‰æœ¬ç•ªå£åº§ã‹ãƒ‡ãƒ¢å£åº§ã®é–‹è¨­æ‰‹ç¶šãã«é€²ã‚ã‚‹ã€‚ä»Šå›ã¯ãƒ‡ãƒ¢å£åº§ã‚’é–‹è¨­ã€‚
https://www.oanda.jp/

- ãƒ‡ãƒ¢MT4ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå–å¾—
ãƒ‡ãƒ¢å£åº§ã®IDã«åŠ ãˆã¦ã€ãƒ‡ãƒ¢MT4ç”¨ã®IDã‚‚ä½œã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ãã‚Œã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®IDã¨ã—ã¦ä½¿ã†ã€‚

- Python API (oandapyV20)
https://oanda-api-v20.readthedocs.io/en/latest/index.html
- å£åº§æ“ä½œ(æ®‹é«˜ç¢ºèªãƒ»å…¥é‡‘)
	- é€šè²¨ãƒšã‚¢ã®æƒ…å ±å–å¾—

```python
# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ãƒãƒ¼ãƒˆ
from oandapyV20 import API
import oandapyV20.endpoints.accounts as accounts

#è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚»ãƒƒãƒˆ
accountID = "101-009-xxxxxxxx-xxx" # MT4 demo
access_token = 'xxxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxx'
api = API(access_token=access_token, environment="practice")

# é€šè²¨ãƒšã‚¢ã‚’æŒ‡å®šã—ã¦æƒ…å ±å–å¾—
params = { "instruments": "EUR_USD,EUR_JPY,USD_JPY" }
r = accounts.AccountInstruments(accountID=accountID, params=params)
api.request(r)
data = r.response
print(data)
```

è¿”ã‚Šå€¤ã¯ä¸‹è¨˜ã€‚ä½•ã®å½¢å¼ã™ãã«åˆ†ã‹ã‚‰ãªã‹ã£ãŸãŒè¾æ›¸ã®ä¸­ã«ãƒªã‚¹ãƒˆã§å„é€šè²¨ãƒšã‚¢ã®æƒ…å ±(è¾æ›¸å½¢å¼)ãŒå…¥ã£ã¦ã„ã‚‹ã¨ã„ã†ã€‚ã€‚ã€‚
ã“ã‚Œã‚’DataFrameå½¢å¼ã«æˆå½¢ã™ã‚‹ã®ã‚’æ¬¡å›æŒ‘æˆ¦ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚
```
{'instruments': [{'name': 'EUR_USD', 'type': 'CURRENCY', 'displayName': 'EUR/USD', 'pipLocation': -4, 'displayPrecision': 5, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '1.00000', 'minimumTrailingStopDistance': '0.00050', 
'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0366', 'shortRate': '-0.0058', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, {'dayOfWeek': 'TUESDAY', 'daysCharged': 1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}, {'name': 'EUR_JPY', 'type': 'CURRENCY', 'displayName': 'EUR/JPY', 'pipLocation': -2, 'displayPrecision': 3, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '100.000', 
'minimumTrailingStopDistance': '0.050', 'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0278', 'shortRate': '-0.0116', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, {'dayOfWeek': 'TUESDAY', 'daysCharged': 
1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}, {'name': 'USD_JPY', 'type': 'CURRENCY', 'displayName': 'USD/JPY', 'pipLocation': -2, 'displayPrecision': 3, 'tradeUnitsPrecision': 0, 'minimumTradeSize': '1', 'maximumTrailingStopDistance': '100.000', 'minimumTrailingStopDistance': '0.050', 'maximumPositionSize': '0', 'maximumOrderUnits': '100000000', 'marginRate': '0.04', 'guaranteedStopLossOrderMode': 'DISABLED', 'tags': [{'type': 'ASSET_CLASS', 'name': 'CURRENCY'}], 'financing': {'longRate': '-0.0087', 'shortRate': '-0.0233', 'financingDaysOfWeek': [{'dayOfWeek': 'MONDAY', 'daysCharged': 1}, 
{'dayOfWeek': 'TUESDAY', 'daysCharged': 1}, {'dayOfWeek': 'WEDNESDAY', 'daysCharged': 1}, {'dayOfWeek': 'THURSDAY', 'daysCharged': 1}, {'dayOfWeek': 'FRIDAY', 'daysCharged': 1}, {'dayOfWeek': 'SATURDAY', 'daysCharged': 0}, {'dayOfWeek': 'SUNDAY', 'daysCharged': 0}]}}], 'lastTransactionID': '53'}
```
